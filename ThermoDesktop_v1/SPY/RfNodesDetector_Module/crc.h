////////////////////////////////////////////////////////////////////////////////
//!
//! \file crc.h
//!
//! \brief Module for CRC functions.
//! To describe the algorithms used Ross N. Williams specification
//!
//! \author Dmitriy Vorobyov "dima@mcsys.by"
//!
////////////////////////////////////////////////////////////////////////////////

#ifndef CRC
#define CRC

#include "types.h"

////////////////////////////////////////////////////////////////////////////////
// Macro definitions
////////////////////////////////////////////////////////////////////////////////

#define CRC8_INIT                               0x00
#define CRC8_POLYNOMIAL                         0x31

#define CRC16_INIT                              0x0000
#define CRC16_POLYNOMIAL                        0x1021

////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
// Functions
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
//! 
//! \brief This function allows to calculate CRC8.
//!
//! Name: CRC-8-Dallas/Maxim
//! Width: 8
//! Polynomial: 0x31
//! Init: 0x00
//! RefIn: False
//! RefOut: False
//! XorOut: 0x00
//!
//! \param *pcMessage - array with the message for which calculates CRC
//! \param cLength - quantity of bytes in the array "pcMessage"
//!
//! \return Calculating CRC8.
//!
////////////////////////////////////////////////////////////////////////////////
char Crc8(char *pcMessage, char cLength);

////////////////////////////////////////////////////////////////////////////////
//! 
//! \brief This function allows to calculate CRC16.
//!
//! Name: CRC-16-CCITT
//! Width: 16
//! Polynomial: 0x1021
//! Init: 0x00
//! RefIn: False
//! RefOut: False
//! XorOut: 0x0000
//!
//! \param *pcMessage - array with the message for which calculates CRC
//! \param usLength - quantity of bytes in the array "pcMessage"
//!
//! \return Calculating CRC16.
//!
////////////////////////////////////////////////////////////////////////////////
unsigned short Crc16(char *pcMessage, unsigned short usLength);

#endif //CRC